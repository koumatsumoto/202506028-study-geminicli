# GEMINI.md

このファイルは、Geminiがこのプロジェクトで開発を支援する際に参照するガイドラインです。プロジェクトの規約や方針を記述してください。

## 1. プロジェクト概要

このプロジェクトは（ここにプロジェクトの目的や概要を記述してください）

## 2. 技術スタック

- **Node.js:** v20.x
- **TypeScript:** v5.x
- **パッケージマネージャー:** npm / yarn / pnpm
- **フレームワーク:** Express / NestJS / Fastify
- **テストフレームワーク:** Jest / Vitest
- **リンター:** ESLint
- **フォーマッター:** Prettier
- **データベース:** PostgreSQL / MySQL / MongoDB
- **ORM:** Prisma / TypeORM
- **デプロイ先:** Vercel / AWS / Google Cloud

## 3. セットアップと実行

1.  **依存関係のインストール:**
    ```bash
    npm install
    ```
2.  **環境変数の設定:**
    `.env.example` をコピーして `.env` を作成し、必要な変数を設定してください。
3.  **開発サーバーの起動:**
    ```bash
    npm run dev
    ```
4.  **ビルド:**
    ```bash
    npm run build
    ```

## 4. コーディング規約

- **フォーマット:** Prettierの規約に厳密に従います。コミット前に自動でフォーマットが実行されます。
- **リンティング:** ESLintの規約に厳密に従います。`@typescript-eslint/recommended` と `eslint-config-prettier` をベースとします。
- **命名規則:**
    - 変数・関数: `camelCase`
    - クラス・型: `PascalCase`
    - ファイル名: `kebab-case` (例: `user-repository.ts`)
    - 定数: `UPPER_SNAKE_CASE`
- **非同期処理:** `Promise` を直接扱う代わりに、`async/await` の使用を推奨します。
- **エラーハンドリング:** カスタムエラークラスを用いた、一貫性のあるエラーハンドリングを徹底します。
- **型定義:**
    - `any` 型の使用は原則禁止します。どうしても必要な場合は理由をコメントに記載してください。
    - `interface` よりも `type` の使用を推奨します。
    - `zod` などを活用し、外部APIとの境界では実行時型検証を行うことを推奨します。

## 5. ディレクトリ構成

```
src/
├── app/          # ExpressやNestJSなどのアプリケーション層
├── core/         # ビジネスロジック、ドメイン層
├── infrastructure/ # データベース接続、外部APIクライアントなど
├── lib/          # 汎用的なライブラリ、ヘルパー関数
├── types/        # プロジェクト共通の型定義
└── main.ts       # アプリケーションのエントリーポイント
```

## 6. テスト方針

- **フレームワーク:** Jest / Vitest を使用します。
- **テスト対象:** `core` 層のビジネスロジックを中心に、単体テストを記述します。
- **カバレッジ:** テストカバレッジは80%以上を目標とします。
- **テストの実行:**
  ```bash
  npm run test
  ```

## 7. コミットメッセージ

- Conventional Commits の規約に従います。
- **メッセージは英語で記述します。**
  - `feat`: 新機能
  - `fix`: バグ修正
  - `docs`: ドキュメントの変更
  - `style`: コードスタイルの変更（フォーマットなど）
  - `refactor`: リファクタリング
  - `test`: テストの追加・修正
  - `chore`: ビルドプロセスや補助ツールの変更

## 8. その他

（その他、特筆すべき規約や情報があればここに記載してください）
